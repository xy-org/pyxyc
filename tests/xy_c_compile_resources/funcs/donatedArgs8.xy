struct WithDtor {
    ptr: Ptr~Int,
}

func dtor(val: WithDtor) {
    # ...
}

func fun(val: WithDtor) -> Int {
    return 0;
}

func macro1(a: don WithDtor) = macro2(a);

func macro2(a: don WithDtor) = macro3(a);

func macro3(a: don WithDtor) = fun(a);

func test1() {
    res := macro1(WithDtor{});
}

func test2() {
    res := macro1(a=WithDtor{});
}
