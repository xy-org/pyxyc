# Funcs having in and mut params

struct A {
    num: Int;
}

func double(a: A) -> A {
    return A{a.num * 2};
}

func doubleInout(a: mut A) {
    a.num *= 2;
}

func callDoubles(a: mut A) -> A {
    a = double(a);
    doubleInout(a);
    return a;
}

func test() -> Int {
    a : mut = A{5};
    _ = double(a);
    doubleInout(a);
    return callDoubles(a).num;
}

# Funcs with default arguments

func defaultArg0(a: A, b : A = A{0}) -> A {return A{a.num + b.num};}

func defaultArg1(a: A, b := A{0}) -> A{ return A{a.num + b.num};}

func defaultArg2(a: A, b := rndA()) -> A{ return A{a.num * b.num};}

func defaultArg3(a: A, b := a'defaultArg1) -> A{ return A{a.num - b.num};}

func rndA() -> A {
    return A{5};
}


func testDefaultArgs() {
    _ = defaultArg0(A{0});

    _ = A{0}'defaultArg1();
    a := A{10};
    _ = a'defaultArg1(A{0});

    _ = a'defaultArg2();
    _ = a'defaultArg2(A{10});

    _ = a'defaultArg3();
    _ = a'defaultArg3(A{20});

    _ = A{0}'defaultArg2'defaultArg3;
}