;; Test dtor of an rvalue is not called if assigned to a different var

struct WithDtor {
    mem: Ptr,
}

func dtor(wd: WithDtor) {
    # ...
}

func mkWithDtor() -> WithDtor {
    return WithDtor;
}

func doSomething(wd: WithDtor) {
    # ...
}

struct Container {
    wd: WithDtor,
}

func test() {
    c: Container;
    wd: WithDtor;
    wd = mkWithDtor();
    doSomething(mkWithDtor());
    c.wd = mkWithDtor();
}
