struct Struct {
    val := 10,
}

func main~EntryPoint() -> void | Int {
    a := test1();

    intVal := [Global~Struct].val;
    s : mut = Struct{intVal*2};
    [Global~Struct] = s;

    b := test1();

    s.val++;
    c := test2();

    error a + b + c;
}

func test1() -> Int {
    return [Global~Struct].val;
}

func test2() -> Int {
    return fun();
}

func fun(s : mut = [Global~Struct]) -> Int {
    return s.val;
}
