struct Test1~[xyTag := TagCtor{label="test1"}] {}
struct Test2~[xyTag := TagCtor{label="test1"}] {}
struct Test3~[xyTag := TagCtor{label="test3"}] {}

func test1~Test1() {}

func test2~Test2() {}

func invokeTests() {
    tests := @for (f in $* ~Test1()) f'toCallback;
    runTests(tests);

    moreTests := @for (f in $* ~Test2()) f'toCallback;
    runTests(moreTests);

    specialTest := $~Test3()'toCallback;
    runSpecial(specialTest);
}

func special~Test3() {}

func test3~Test1() {}

func runTests(x: pseudo @()->()[], tPtr := x'addrof, tLen : Usize = x'len) {
}

func runSpecial(x: ()->void) {
    [x]();
}