;; Test callbacks as members in structs

import xy.ctti;

struct Test~[xyTag := TagCtor{label="test"}] {}

func test1~Test() {}
func test2~Test() {}

func str~[StrCtor{prefix="", interpolation=false}] (
    addr: Ptr, size: Usize
) -> Ptr {
    return addr;
}

struct FuncDesc {
    cb: ()->();
    name: Ptr;
}

func test() {
    tests := @for (f in $*~Test()) FuncDesc{f'toCallback, f'nameof};
}
