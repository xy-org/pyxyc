struct Action~[type: struct] {
    code: Int;
}

func action(act: Action) = if (act.code >= 5) {
    s := (act..type){};
    # ...
};