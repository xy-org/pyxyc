struct State {
    a: Int;
    b: Int;
    c: Int;
    x: Float;
    y: Float;
}

func fillAndReset(st: mut State, val: mut Int) {
    st.a = val;
    st.b = val;
    st.c = val;
    val = 0;
}

func test() {
    a : State;
    b : State;
    fillAndReset(a, b.c);
    fillAndReset(a, a.d);  # should produce an error because a and a.c collide
}